if(function(e,o,n){var i,t=e.getElementsByTagName(o)[0];e.getElementById(n)||(i=e.createElement(o),i.id=n,i.src="//connect.facebook.net/en_US/sdk.js",t.parentNode.insertBefore(i,t))}(document,"script","facebook-jssdk"),"undefined"!=typeof qodefSocialLoginVars)var facebookAppId=qodefSocialLoginVars.social.facebookAppId;facebookAppId&&(window.fbAsyncInit=function(){FB.init({appId:facebookAppId,cookie:!0,xfbml:!0,version:"v2.5"}),window.FB=FB}),function(e){"use strict";function o(){a(),s(),r(),d(),h(),v()}function n(){c(),p(),q()}function i(){}function t(){}function a(){var o=e(".qodef-login-opener"),n=e(".qodef-login-register-holder");if(o){var i=e(".qodef-login-register-content");o.click(function(e){e.preventDefault(),n.fadeIn(300),n.addClass("opened")}),n.click(function(e){n.hasClass("opened")&&(n.fadeOut(300),n.removeClass("opened"))}),e(".qodef-login-register-content").click(function(e){e.stopPropagation()}),e(window).on("keyup",function(e){n.hasClass("opened")&&27==e.keyCode&&(n.fadeOut(300),n.removeClass("opened"))}),i.tabs()}}function s(){e(".qodef-login-form").on("submit",function(o){o.preventDefault();var n={action:"qodef_membership_login_user",security:e(this).find("#qodef-login-security").val(),login_data:e(this).serialize()};return e.ajax({type:"POST",data:n,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o;o=JSON.parse(e),console.log(o),f(o),"success"==o.status&&(window.location=o.redirect)}}),!1})}function r(){e(".qodef-register-form").on("submit",function(o){o.preventDefault();var n={action:"qodef_membership_register_user",security:e(this).find("#qodef-register-security").val(),register_data:e(this).serialize()};return e.ajax({type:"POST",data:n,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o;o=JSON.parse(e),f(o),"success"==o.status&&(window.location=o.redirect)}}),!1})}function d(){var o=e(".qodef-reset-pass-form");o.submit(function(n){n.preventDefault();var i={action:"qodef_membership_user_lost_password",user_login:o.find("#user_reset_password_login").val()};e.ajax({type:"POST",data:i,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o=JSON.parse(e);f(o),"success"==o.status&&(window.location=o.redirect)}})})}function f(o){var n,i=e(".qodef-membership-response-holder"),t=_.template(e(".qodef-membership-response-template").html());n="success"===o.status?"qodef-membership-message-succes":"qodef-membership-message-error";var a={messageClass:n,message:o.message},s=t(a);i.html(s)}function c(){e(".qodef-facebook-login-holder").submit(function(e){e.preventDefault(),window.FB.login(function(e){l(e)},{scope:"email, public_profile"})})}function l(e){"connected"===e.status?u():"not_authorized"===e.status?console.log("Please log into this app"):console.log("Please log into Facebook")}function u(){console.log("Welcome! Fetching information from Facebook..."),FB.api("/me","GET",{fields:"id, name, email, link, picture"},function(o){var n=e(".qodef-facebook-login-holder [name^=qodef_nonce_facebook_login]").val();o.nonce=n,o.image=o.picture.data.url;var i={action:"qodef_membership_check_facebook_user",response:o};e.ajax({type:"POST",data:i,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o;o=JSON.parse(e),f(o),"success"==o.status&&(window.location=o.redirect)}})})}function p(){if("undefined"!=typeof qodefSocialLoginVars)var o=qodefSocialLoginVars.social.googleClientId;if(o)gapi.load("auth2",function(){window.auth2=gapi.auth2.init({client_id:o}),g()});else{e(".qodef-google-login-holder").submit(function(e){e.preventDefault()})}}function g(){e(".qodef-google-login-holder").submit(function(e){e.preventDefault(),window.auth2.signIn(),m()})}function m(){if(window.auth2.isSignedIn.get()){var o=window.auth2.currentUser.get(),n=o.getBasicProfile(),i=e(".qodef-google-login-holder [name^=qodef_nonce_google_login]").val(),t={id:n.getId(),name:n.getName(),email:n.getEmail(),image:n.getImageUrl(),link:"https://plus.google.com/"+n.getId(),nonce:i},a={action:"qodef_membership_check_google_user",response:t};e.ajax({type:"POST",data:a,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o;o=JSON.parse(e),f(o),"success"==o.status&&(window.location=o.redirect)}})}}function h(){var o=e("#qodef-membership-update-profile-form");if(o.length){var n=o.find("button"),i=n.data("updating-text"),t=n.data("updated-text");o.on("submit",function(o){o.preventDefault();var a=n.html();n.html(i);var s={action:"qodef_membership_update_user_profile",data:e(this).serialize()};return e.ajax({type:"POST",data:s,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o;o=JSON.parse(e),f(o),"success"==o.status?(n.html(t),window.location=o.redirect):n.html(a)}}),!1})}}function q(){var o=(e(".qodef-membership-main-wrapper"),e(".page-template-user-dashboard .qodef-content")),n=e(".qodef-page-footer"),i=0;if(!qodef.body.hasClass("qodef-header-transparent")&&qodef.windowWidth>1024&&(i=i+qodefGlobalVars.vars.qodefMenuAreaHeight+qodefGlobalVars.vars.qodefLogoAreaHeight),n.length>0&&(i+=n.outerHeight()),qodef.windowWidth>1024){var t=qodef.windowHeight-i;o.css({"min-height":t+"px"})}}function v(){var o=e(".qodef-login-dropdown");o.parent().mouseenter(function(){o.css({visibility:"visible",height:"0px",opacity:"0"}),o.stop().animate({height:159,opacity:1},300,function(){o.css("overflow","visible")})}),o.parent().mouseleave(function(){o.stop().animate({height:"0px"},150,function(){o.css({overflow:"hidden",visibility:"hidden"})})})}var b={};"undefined"!=typeof qodef&&(qodef.modules.socialLogin=b),b.qodefUserLogin=s,b.qodefUserRegister=r,b.qodefUserLostPassword=d,b.qodefInitLoginWidgetModal=a,b.qodefInitFacebookLogin=c,b.qodefInitGooglePlusLogin=p,b.qodefUpdateUserProfile=h,e(document).ready(o),e(window).load(n),e(window).resize(i),e(window).scroll(t)}(jQuery);